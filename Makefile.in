##############################################################################
#                                                                            #
#                       FOX:  A Free C++ Class Library for X                 #
#                                                                            #
##############################################################################
# Copyright (C) 1997 by Jeroen van der Zijp.   All Rights Reserved.          #
##############################################################################
# $Id: Makefile.in,v 1.8 1998/10/27 03:51:15 jeroen Exp $                    #
##############################################################################
# This library is free software; you can redistribute it and/or              #
# modify it under the terms of the GNU Library General Public                #
# License as published by the Free Software Foundation; either               #
# version 2 of the License, or (at your option) any later version.           #
#                                                                            #
# This library is distributed in the hope that it will be useful,            #
# but WITHOUT ANY WARRANTY; without even the implied warranty of             #
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU          #
# Library General Public License for more details.                           #
#                                                                            #
# You should have received a copy of the GNU Library General Public          #
# License along with this library; if not, write to the Free                 #
# Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.         #
##############################################################################

SHELL       = /bin/sh
CC          = @CC@
CXX         = @CXX@
CPP         = @CPP@
RM          = rm -f
AR          = ar rc
RANLIB      = @RANLIB@
SRCDIR      = @srcdir@
TOPDIR      = @top_srcdir@
DEFINES     = @DEFS@
CFLAGS      = @CFLAGS@
CXXFLAGS    = @CXXFLAGS@
CPPFLAGS    = @CPPFLAGS@
LDFLAGS     = @LDFLAGS@
X11LIBS     = @X_PRE_LIBS@ -lXext -lX11 @X_EXTRA_LIBS@
INCDIRS     = -I$(TOPDIR)/include @X_CFLAGS@
LIBDIRS     = @X_LIBS@ -L$(TOPDIR)/lib
FOXLIB      = $(TOPDIR)/lib/libFOX.a
prefix      = @prefix@
exec_prefix = @exec_prefix@
INSTALL     = install

@SET_MAKE@

.SUFFIXES: .cpp .c


SUBDIRS = utils src tests pathfinder

all: 
	for i in $(SUBDIRS); do \
	(cd $$i; $(MAKE) ) || exit 1; \
	done


src:
	cd src; $(MAKE)


utils:
	cd utils; $(MAKE)


drop:   src utils
	for i in $(SUBDIRS); do \
	(cd $$i; $(MAKE) drop) || exit 1; \
	done

install:
	@echo "Installing under $(prefix)"
	$(INSTALL) -d @includedir@/FOX
	$(INSTALL) -d @libdir@
	$(INSTALL) -d @bindir@
	for incfile in include/*.h; do \
	  $(INSTALL) -m 0644 include/$$incfile @includedir@/FOX \
	done
	$(INSTALL) -m 0755 lib/libFOX.a @libdir@/libFOX.a


clean:
	for i in $(SUBDIRS); do \
	(cd $$i; $(MAKE) clean) || exit 1; \
	done


realclean: clean
	$(RM) Makefile
	$(RM) config.*
	$(RM) lib/*.a lib/*.so
	for i in $(SUBDIRS); do \
	(cd $$i; $(MAKE) realclean) || exit 1; \
	done

tar: realclean
	(cd ..; tar czvf fox.tar.gz fox/*)

